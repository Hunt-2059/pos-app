import React, { useEffect, useState } from 'react'
import db from '../dexie/db'
export default function Admin(){ const [inventory,setInventory]=useState([]); const [form,setForm]=useState({sku:'',name:'',price:0,qty:0}); useEffect(()=>{ db.inventory.toArray().then(setInventory) },[]); async function addItem(e){ e.preventDefault(); await db.inventory.add(form); setForm({sku:'',name:'',price:0,qty:0}); db.inventory.toArray().then(setInventory) }
 return (<div className="grid grid-cols-2 gap-4"><div><h2 className="text-xl">Add Item</h2><form onSubmit={addItem} className="bg-white dark:bg-gray-800 p-4 rounded shadow"><input value={form.sku} onChange={e=>setForm({...form,sku:e.target.value})} placeholder="SKU" className="w-full p-2 mb-2" /><input value={form.name} onChange={e=>setForm({...form,name:e.target.value})} placeholder="Name" className="w-full p-2 mb-2" /><input value={form.price} onChange={e=>setForm({...form,price:parseFloat(e.target.value)||0})} placeholder="Price" type="number" className="w-full p-2 mb-2" /><input value={form.qty} onChange={e=>setForm({...form,qty:parseInt(e.target.value)||0})} placeholder="Qty" type="number" className="w-full p-2 mb-2" /><button className="px-3 py-1 bg-blue-600 text-white rounded">Add</button></form></div><div><h2 className="text-xl">Inventory</h2><div className="bg-white dark:bg-gray-800 p-4 rounded shadow">{inventory.map(i=><div key={i.id} className="flex justify-between">{i.name} <span>{i.qty}</span></div>)}</div></div></div>) }
